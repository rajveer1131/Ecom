{"ast":null,"code":"import * as actionTypes from '../constants/cartConstants';\nimport axios from 'axios';\nimport { Api } from '../../utils/Api';\nimport { convertToCartData } from '../../utils/utils.function';\nexport const addToCart = (id, qty) => async dispatch => {\n  const {\n    data\n  } = await Api.getRequest(`/api/products/${id}`);\n  const product = JSON.parse(data);\n  // console.log(product)\n  dispatch({\n    type: actionTypes.ADD_TO_CART,\n    payload: {\n      product: product._id,\n      name: product.name,\n      imageUrl: product.imageUrl,\n      price: product.price,\n      countInStock: product.countInStock,\n      qty\n    }\n  });\n  Api.postRequest('/api/cart', {\n    productId: id,\n    count: qty\n  });\n};\nexport const removeFromCart = ({\n  pId,\n  _id\n}) => dispatch => {\n  dispatch({\n    type: actionTypes.REMOVE_FROM_CART,\n    payload: pId\n  });\n  Api.DeleteRequest('/api/cart/' + _id);\n};\nexport const fetchCart = () => async dispatch => {\n  try {\n    const {\n      data: strigifyData\n    } = await Api.getRequest(`/api/cart/`);\n    // console.log({strigifyData})\n    const {\n      carts\n    } = JSON.parse(strigifyData);\n    // console.log(carts)\n\n    dispatch({\n      type: actionTypes.FETCH_MY_CART,\n      payload: {\n        carts: convertToCartData(carts)\n      }\n    });\n  } catch (e) {\n    console.log('EROROR :  ', e);\n  }\n};\nx = [{\n  product: '615ac2b036ecb5ed71497630',\n  name: 'Cannon EOS-1D',\n  imageUrl: 'https://images.unsplash.com/photo-1519183071298-a2962feb14f4?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n  price: 1300,\n  countInStock: 5,\n  qty: '3'\n}, {\n  product: '615ac2b036ecb5ed71497631',\n  name: 'Amazon Alexa',\n  imageUrl: 'https://images.unsplash.com/photo-1518444065439-e933c06ce9cd?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1267&q=80',\n  price: 50,\n  countInStock: 25,\n  qty: '3'\n}];","map":{"version":3,"names":["actionTypes","axios","Api","convertToCartData","addToCart","id","qty","dispatch","data","getRequest","product","JSON","parse","type","ADD_TO_CART","payload","_id","name","imageUrl","price","countInStock","postRequest","productId","count","removeFromCart","pId","REMOVE_FROM_CART","DeleteRequest","fetchCart","strigifyData","carts","FETCH_MY_CART","e","console","log","x"],"sources":["/home/r-linux/e-commerce-store-master/e-comerce-frontend/src/redux/actions/cartActions.js"],"sourcesContent":["import * as actionTypes from '../constants/cartConstants'\nimport axios from 'axios'\nimport {Api} from '../../utils/Api'\nimport {convertToCartData} from '../../utils/utils.function'\n\nexport const addToCart = (id, qty) => async dispatch => {\n  const {data} = await Api.getRequest(`/api/products/${id}`)\n  const product = JSON.parse(data)\n  // console.log(product)\n  dispatch({\n    type: actionTypes.ADD_TO_CART,\n    payload: {\n      product: product._id,\n      name: product.name,\n      imageUrl: product.imageUrl,\n      price: product.price,\n      countInStock: product.countInStock,\n      qty,\n    },\n  })\n\n  Api.postRequest('/api/cart', {productId: id, count: qty})\n}\n\nexport const removeFromCart =\n  ({pId, _id}) =>\n  dispatch => {\n    dispatch({\n      type: actionTypes.REMOVE_FROM_CART,\n      payload: pId,\n    })\n    Api.DeleteRequest('/api/cart/' + _id)\n  }\n\nexport const fetchCart = () => async dispatch => {\n  try {\n    const {data: strigifyData} = await Api.getRequest(`/api/cart/`)\n    // console.log({strigifyData})\n    const {carts} = JSON.parse(strigifyData)\n    // console.log(carts)\n\n    dispatch({\n      type: actionTypes.FETCH_MY_CART,\n      payload: {\n        carts: convertToCartData(carts),\n      },\n    })\n  } catch (e) {\n    console.log('EROROR :  ', e)\n  }\n}\n\nx = [\n  {\n    product: '615ac2b036ecb5ed71497630',\n    name: 'Cannon EOS-1D',\n    imageUrl:\n      'https://images.unsplash.com/photo-1519183071298-a2962feb14f4?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1350&q=80',\n    price: 1300,\n    countInStock: 5,\n    qty: '3',\n  },\n  {\n    product: '615ac2b036ecb5ed71497631',\n    name: 'Amazon Alexa',\n    imageUrl:\n      'https://images.unsplash.com/photo-1518444065439-e933c06ce9cd?ixid=MXwxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHw%3D&ixlib=rb-1.2.1&auto=format&fit=crop&w=1267&q=80',\n    price: 50,\n    countInStock: 25,\n    qty: '3',\n  },\n]\n"],"mappings":"AAAA,OAAO,KAAKA,WAAW,MAAM,4BAA4B;AACzD,OAAOC,KAAK,MAAM,OAAO;AACzB,SAAQC,GAAG,QAAO,iBAAiB;AACnC,SAAQC,iBAAiB,QAAO,4BAA4B;AAE5D,OAAO,MAAMC,SAAS,GAAGA,CAACC,EAAE,EAAEC,GAAG,KAAK,MAAMC,QAAQ,IAAI;EACtD,MAAM;IAACC;EAAI,CAAC,GAAG,MAAMN,GAAG,CAACO,UAAU,CAAC,iBAAiBJ,EAAE,EAAE,CAAC;EAC1D,MAAMK,OAAO,GAAGC,IAAI,CAACC,KAAK,CAACJ,IAAI,CAAC;EAChC;EACAD,QAAQ,CAAC;IACPM,IAAI,EAAEb,WAAW,CAACc,WAAW;IAC7BC,OAAO,EAAE;MACPL,OAAO,EAAEA,OAAO,CAACM,GAAG;MACpBC,IAAI,EAAEP,OAAO,CAACO,IAAI;MAClBC,QAAQ,EAAER,OAAO,CAACQ,QAAQ;MAC1BC,KAAK,EAAET,OAAO,CAACS,KAAK;MACpBC,YAAY,EAAEV,OAAO,CAACU,YAAY;MAClCd;IACF;EACF,CAAC,CAAC;EAEFJ,GAAG,CAACmB,WAAW,CAAC,WAAW,EAAE;IAACC,SAAS,EAAEjB,EAAE;IAAEkB,KAAK,EAAEjB;EAAG,CAAC,CAAC;AAC3D,CAAC;AAED,OAAO,MAAMkB,cAAc,GACzBA,CAAC;EAACC,GAAG;EAAET;AAAG,CAAC,KACXT,QAAQ,IAAI;EACVA,QAAQ,CAAC;IACPM,IAAI,EAAEb,WAAW,CAAC0B,gBAAgB;IAClCX,OAAO,EAAEU;EACX,CAAC,CAAC;EACFvB,GAAG,CAACyB,aAAa,CAAC,YAAY,GAAGX,GAAG,CAAC;AACvC,CAAC;AAEH,OAAO,MAAMY,SAAS,GAAGA,CAAA,KAAM,MAAMrB,QAAQ,IAAI;EAC/C,IAAI;IACF,MAAM;MAACC,IAAI,EAAEqB;IAAY,CAAC,GAAG,MAAM3B,GAAG,CAACO,UAAU,CAAC,YAAY,CAAC;IAC/D;IACA,MAAM;MAACqB;IAAK,CAAC,GAAGnB,IAAI,CAACC,KAAK,CAACiB,YAAY,CAAC;IACxC;;IAEAtB,QAAQ,CAAC;MACPM,IAAI,EAAEb,WAAW,CAAC+B,aAAa;MAC/BhB,OAAO,EAAE;QACPe,KAAK,EAAE3B,iBAAiB,CAAC2B,KAAK;MAChC;IACF,CAAC,CAAC;EACJ,CAAC,CAAC,OAAOE,CAAC,EAAE;IACVC,OAAO,CAACC,GAAG,CAAC,YAAY,EAAEF,CAAC,CAAC;EAC9B;AACF,CAAC;AAEDG,CAAC,GAAG,CACF;EACEzB,OAAO,EAAE,0BAA0B;EACnCO,IAAI,EAAE,eAAe;EACrBC,QAAQ,EACN,kKAAkK;EACpKC,KAAK,EAAE,IAAI;EACXC,YAAY,EAAE,CAAC;EACfd,GAAG,EAAE;AACP,CAAC,EACD;EACEI,OAAO,EAAE,0BAA0B;EACnCO,IAAI,EAAE,cAAc;EACpBC,QAAQ,EACN,kKAAkK;EACpKC,KAAK,EAAE,EAAE;EACTC,YAAY,EAAE,EAAE;EAChBd,GAAG,EAAE;AACP,CAAC,CACF","ignoreList":[]},"metadata":{},"sourceType":"module"}